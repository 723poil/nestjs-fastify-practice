/// 프로젝트 멤버 모델
///
/// 프로젝트에 참여중인 멤버들의 정보를 담아두는 데이터 모델
///
/// @namespace Project
/// @erd All
/// @erd User
/// @author 723poil
model project_member {

    /// Primary Key.
    project_member_id Int @default(autoincrement()) @id

    /// projects 테이블과 연결된 key
    project_id Int
    /// users 테이블과 연결된 key
    user_id Int

    /// 멤버상태
    ///
    /// ACTIVE, BAN
    member_status MemberStatus @default(ACTIVE)

    /// 멤버역할
    ///
    /// OWNER, MEMBER
    member_role MemberRole @default(MEMBER)

    /// 생성일자
    created_at DateTime @default(now())

    /// 수정일자
    updated_at DateTime? @updatedAt

    /// 삭제일자
    deleted_at DateTime?

    @@index([project_id, user_id])

    //----
    // RELATIONS
    //----
    project project @relation(fields: [project_id], references: [project_id])
    user user @relation(fields: [user_id], references: [user_id])
    tasks task[]
}

enum MemberStatus {
    ACTIVE
    BAN
}

enum MemberRole {
    OWNER
    MEMBER
}