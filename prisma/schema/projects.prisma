//-----------------------------------------------------------
// Projects
//-----------------------------------------------------------
/// 프로젝트 모델
///
/// 프로젝트 기본 정보를 담아두는 데이터 모델
///
/// @namespace Projects
/// @erd All
/// @author 723poil
model projects {

    /// Primary Key
    project_id Int @default(autoincrement()) @id

    /// 프로젝트명
    /// 100자 제한
    project_name String @db.VarChar(100)

    /// 프로젝트 설명
    project_description String

    /// 프로젝트 상태
    ///
    /// ACTIVE, STOP, FINISHED, DELETED
    project_status prjectStatus @default(ACTIVE)

    /// 시작일
    /// YYYY-MM-DD
    start_date String @db.VarChar(10)

    /// 종료일
    /// YYYY-MM-DD
    end_date String? @db.VarChar(10)

    /// 생성일자
    created_at DateTime @default(now())

    /// 수정일자
    updated_at DateTime? @updatedAt

    /// 삭제일자
    deleted_at DateTime?

    @@index([project_name])
    @@index([created_at])
    @@index([project_status])

    //----
    // RELATIONS
    //----
    /// 프로젝트 멤버 리스트
    ///
    /// 프로젝트 생성시 무조건 하나이상의 멤버가 있어야 한다.
    /// 프로젝트를 생성한 유저가 project_members에 기본적으로 들어가야한다.
    ///
    /// @minItems 1
    project_members project_members[]
    task tasks[]
}

enum prjectStatus {
    ACTIVE
    STOP
    FINISHED
    DELETED
}